Perfect ðŸ‘ Here's your **Episode 20: Callbacks â€” Consolidated Notes (Clean + Practical Version)**

---

# ðŸŽ¬ **Episode 20: Callback**

---

## ðŸ”¹ What is a Callback?

A **callback** is a **function passed as an argument** to another function, which will be **executed later**, either **synchronously** (immediately) or **asynchronously** (after some time/event).

> ðŸ’¡ Async programming in JavaScript exists **because callbacks exist**.

---

## âš™ï¸ JavaScript Nature

* JavaScript is a **synchronous**, **single-threaded** language.
* It executes **one line at a time** (one call stack).
* It **does not wait** for slow operations â€” hence, async mechanisms like **callbacks** are used.

```js
console.log("Namaste");
console.log("JavaScript");
console.log("Season 2");
```

> ðŸ§  Prints quickly because:
> â€œTime, tide, and JavaScript wait for none.â€

---

## ðŸ”¸ Example: Delay with Callback

```js
console.log("Namaste");
setTimeout(function () {
  console.log("JavaScript");
}, 5000);
console.log("Season 2");
```

**Output:**

```
Namaste
Season 2
JavaScript
```

âœ… `setTimeout` takes a **callback function** to run **after 5 seconds** (async behavior).

---

## ðŸ›’ **e-Commerce Scenario**

### Steps:

1. Create Order
2. Proceed to Payment

Without dependency handling:

```js
api.createOrder();
api.proceedToPayment();
```

If payment depends on order completion â†’ we use a **callback**:

```js
api.createOrder(cart, function () {
  api.proceedToPayment();
});
```

---

## ðŸŒ€ **Callback Hell (Pyramid of Doom)**

When multiple dependent callbacks are nested deeply:

```js
api.createOrder(cart, function () {
  api.proceedToPayment(function () {
    api.showOrderSummary(function () {
      api.updateWallet();
    });
  });
});
```

ðŸ“‰ Problems:

* Hard to **read**
* Hard to **maintain**
* Error handling becomes **messy**

> ðŸ’¡ Known as **Callback Hell** or **Pyramid of Doom**

---

## âš ï¸ **Inversion of Control**

When we pass a callback to another function, we **lose control** over when and how it executes.

Example:

```js
api.createOrder(cart, function () {
  api.proceedToPayment();
});
```

We are trusting `createOrder` to:

* Call our callback correctly
* Not call it twice or never call it
* Not break the flow (maybe written by another developer)

> ðŸ’¡ This loss of trust is called **Inversion of Control**.

---

## ðŸ” **Types of Callbacks**

| Type                      | When It Runs                   | Example                         | Use Case                  |
| ------------------------- | ------------------------------ | ------------------------------- | ------------------------- |
| **Synchronous**           | Immediately within function    | `arr.map()`, `forEach()`        | Iteration, transformation |
| **Asynchronous**          | After delay or async task      | `setTimeout`, `fetch()`         | Network calls, timers     |
| **Event-based**           | On event trigger               | `addEventListener('click', fn)` | User interaction          |
| **Error-first (Node.js)** | After async, first arg = error | `fs.readFile(path, cb)`         | Server-side async ops     |
| **Custom Async**          | User-defined async behavior    | `myFunc(callback)`              | Simulating async flow     |

---

## ðŸ§© Example: All in One View

```js
// Sync
[1, 2, 3].forEach(n => console.log(n));

// Async
setTimeout(() => console.log("Timeout done"), 1000);

// Event
button.addEventListener("click", () => console.log("Clicked!"));

// Node.js style
fs.readFile("file.txt", "utf-8", (err, data) => {
  if (err) return console.error(err);
  console.log(data);
});
```

---

## ðŸš¨ Callback Problems

1. **Callback Hell** â†’ messy nested structure
2. **Inversion of Control** â†’ lose control over execution

---

## ðŸ’¡ Why Learn This?

Understanding callbacks is **essential** before learning **Promises** â€”
because Promises were created to **fix** the problems of callbacks.

---

ðŸ“– **More Reading:** [http://callbackhell.com/](http://callbackhell.com/)
ðŸŽ¥ **Watch:** [Namaste JavaScript Episode 20 â€“ Callbacks](https://www.youtube.com/watch?v=yEKtJGha3yM)

---

Would you like me to make a **diagram** showing
â†’ callback flow â†’ callback hell â†’ inversion of control â†’ promise solution (Episode 21 preview)?
